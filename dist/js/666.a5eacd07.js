"use strict";(self["webpackChunkalphitter"]=self["webpackChunkalphitter"]||[]).push([[666],{85882:(e,t,s)=>{s.d(t,{Z:()=>d});s(68309);var r=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{position:"relative"}},[e.replyModalShow?t("PopoutReply"):e._e(),e.writingTweetModalShow?t("PopoutWritingTweet"):e._e(),t("div",{attrs:{id:"navpillHeader-container"}},[e._m(0),t("div",{staticClass:"navpill-info-container flex-column"},[t("router-link",{staticClass:"navpillHeader-title",attrs:{to:{name:"user-tweets"}}},[e._v(" "+e._s(e.currentUser.name)+" ")]),t("p",{staticClass:"post-number-hint"},[e._v(" "+e._s(e.currentUser.tweetsCount)+" "),t("span",[e._v("推文")])])],1)])],1)},a=[function(){var e=this,t=e._self._c;return t("a",{attrs:{href:"javascript:history.back()"}},[t("img",{staticClass:"arrow-icon",attrs:{src:s(57139),alt:"回到上一頁"}})])}],n=s(4648),o=s(63822),i=s(16434),u=s(16945);const l={name:"NavpillHeader",components:{PopoutReply:i["default"],PopoutWritingTweet:u["default"]},data:function(){return{isLoading:!0}},computed:(0,n.Z)({},(0,o.rn)(["currentUser","replyModalShow","writingTweetModalShow"]))},c=l;var m=s(1001),p=(0,m.Z)(c,r,a,!1,null,null,null);const d=p.exports},70666:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex justify-content-center"},[t("NavBar",{attrs:{"initial-setting":e.isSetting}}),t("div",{staticClass:"main-wrapper"},[t("NavpillHeader"),t("SettingForm")],1)],1)},a=[],n=s(24285),o=s(85882),i=(s(68309),function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex-column",attrs:{id:"setting-form-container"}},[t("form",{staticClass:"form-container",on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.handleSubmit.apply(null,arguments)}}},[t("div",{staticClass:"form-element-group"},[t("label",{staticClass:"label-name-style",attrs:{for:"user-account"}},[t("span",{staticClass:"span-neme-style"},[e._v(" 帳號 ")]),t("span",[e._v(" "+e._s(e.user.account.length)+" / 10 ")])]),e.user.account.length>10?t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.account,expression:"user.account"}],staticClass:"user-account",staticStyle:{"border-bottom":"2px solid red"},attrs:{id:"user-account",type:"text",placeholder:"請輸入帳號",required:""},domProps:{value:e.user.account},on:{input:function(t){t.target.composing||e.$set(e.user,"account",t.target.value)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.account,expression:"user.account"}],staticClass:"user-account",attrs:{id:"user-account",type:"text",placeholder:"請輸入帳號",required:""},domProps:{value:e.user.account},on:{input:function(t){t.target.composing||e.$set(e.user,"account",t.target.value)}}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.user.account.length>10,expression:"user.account.length > 10"}],staticStyle:{position:"absolute",left:"0px",bottom:"-18px","font-size":"12px",color:"red"}},[e._v(" 字數超出上限！ ")])]),t("div",{staticClass:"form-element-group"},[t("label",{staticClass:"label-name-style",attrs:{for:"user-name"}},[t("span",{staticClass:"span-neme-style"},[e._v(" 名稱 ")]),t("span",[e._v(" "+e._s(e.user.name.length)+" / 50 ")])]),e.user.name.length>50?t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"user-account",staticStyle:{"border-bottom":"2px solid red"},attrs:{id:"user-name",type:"text",placeholder:"請輸入使用者名稱",required:""},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"user-account",attrs:{id:"user-name",type:"text",placeholder:"請輸入使用者名稱",required:""},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.user.name.length>50,expression:"user.name.length > 50"}],staticStyle:{position:"absolute",left:"0px",bottom:"-18px","font-size":"12px",color:"red"}},[e._v(" 字數超出上限！ ")])]),t("div",{staticClass:"form-element-group"},[t("label",{attrs:{for:"user-name"}},[e._v("Email")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"user-email",attrs:{id:"user-email",type:"email",placeholder:"請輸入Email",required:""},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),t("div",{staticClass:"form-element-group"},[t("label",{attrs:{for:"user-password"}},[e._v("密碼")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"user-password",attrs:{id:"user-password",type:"password",placeholder:"請輸入密碼",required:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),t("div",{staticClass:"form-element-group"},[t("label",{attrs:{for:"user-password-confirm"}},[e._v("密碼再確認")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.checkPassword,expression:"user.checkPassword"}],staticClass:"user-password-confirm",attrs:{id:"user-password-confirm",type:"password",placeholder:"請再次輸入密碼",required:""},domProps:{value:e.user.checkPassword},on:{input:function(t){t.target.composing||e.$set(e.user,"checkPassword",t.target.value)}}})]),t("div",{staticClass:"d-flex justify-content-end"},[t("button",{staticClass:"login-btn main-btn-style",attrs:{type:"submit",disabled:e.isProcessing}},[e._v(" 儲存 ")])])])])}),u=[],l=s(50124),c=s(48534),m=s(4648),p=(s(73210),s(21703),s(96647),s(78390)),d=s(76163),v=s(24239);const g={name:"SettingForm",data:function(){return{user:(0,m.Z)({},v.Z.state.currentUser),isProcessing:!1}},methods:{handleSubmit:function(){var e=this;return(0,c.Z)((0,l.Z)().mark((function t(){var s,r;return(0,l.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.user.account=e.user.account.trim(),e.user.name=e.user.name.trim(),e.user.email=e.user.email.trim(),e.user.account&&e.user.name&&e.user.email&&e.user.password&&e.user.checkPassword){t.next=7;break}return d.FN.fire({icon:"warning",title:"請確認已填寫所有欄位"}),t.abrupt("return");case 7:if(!(e.user.account.length>10)){t.next=10;break}return d.FN.fire({icon:"warning",title:"帳號字數不可超過10字"}),t.abrupt("return");case 10:if(!(e.user.name.length>50)){t.next=13;break}return d.FN.fire({icon:"warning",title:"名稱字數不可超過50字"}),t.abrupt("return");case 13:if(e.user.password===e.user.checkPassword){t.next=17;break}return d.FN.fire({icon:"warning",title:"兩次輸入的密碼不同"}),e.user.checkPassword="",t.abrupt("return");case 17:return e.isProcessing=!0,t.next=20,p.Z.putUserForSettingFrom(e.user);case 20:if(s=t.sent,r=s.data,"error"!==r.status){t.next=24;break}throw new Error(r.message);case 24:e.$store.commit("setCurrentUser",r),d.FN.fire({icon:"success",title:"使用者-".concat(e.user.account,"-設定儲存成功")}),e.isProcessing=!1,t.next=34;break;case 29:t.prev=29,t.t0=t["catch"](0),e.isProcessing=!1,"Error: Account already exists!"===t.t0.message?t.t0.message="account 已重複註冊！":"Error: Email already exists!"===t.t0.message&&(t.t0.message="email 已重複註冊！"),d.FN.fire({icon:"warning",title:"設定儲存失敗 - ".concat(t.t0.message)});case 34:case"end":return t.stop()}}),t,null,[[0,29]])})))()}}},f=g;var w=s(1001),h=(0,w.Z)(f,i,u,!1,null,null,null);const A=h.exports,x={name:"SettingPage",components:{NavBar:n.Z,NavpillHeader:o.Z,SettingForm:A},data:function(){return{isSetting:!0}}},C=x;var b=(0,w.Z)(C,r,a,!1,null,null,null);const y=b.exports},57139:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAOCAYAAADJ7fe0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABTSURBVHgBrdLRCQAgCATQo0ncfylHKRTqQwrM88Cojx6UYl6iqlNEvDLBCwBQQyJg5y+kChyEARxhAUc2UC27P9CRlufYQn/s3tAtZqH+sY9QFlmZh9qG/+G4HQAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=666.a5eacd07.js.map