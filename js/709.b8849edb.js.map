{"version":3,"file":"js/709.b8849edb.js","mappings":"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","sources":["webpack://alphitter/./src/components/UserLikeList.vue","webpack://alphitter/src/components/UserLikeList.vue","webpack://alphitter/./src/components/UserLikeList.vue?0e16","webpack://alphitter/./src/components/UserLikeList.vue?23be"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',_vm._l((_vm.likes),function(like){return _c('div',{key:like.id,attrs:{\"id\":\"user-like-list-container\"}},[(_vm.currentUser.id === like.Tweet.User.id)?_c('router-link',{attrs:{\"to\":{\n          name: 'user-tweets' // 導引至 UserSelf.vue\n        }}},[_c('img',{staticClass:\"user-headshot\",attrs:{\"src\":_vm._f(\"emptyImage\")(like.Tweet.User.avatar),\"alt\":\"個人頭像\"}})]):_c('router-link',{attrs:{\"to\":{\n          name: 'user-id-tweets', // 導引至 UserOther.vue\n          params: { userId: like.Tweet.User.id }\n        }}},[_c('img',{staticClass:\"user-headshot\",attrs:{\"src\":_vm._f(\"emptyImage\")(like.Tweet.User.avatar),\"alt\":\"個人頭像\"}})]),_c('div',{staticClass:\"tweet-wrapper ml-2\"},[_c('div',{staticClass:\"d-flex align-items-center\"},[(_vm.currentUser.id === like.Tweet.User.id)?_c('router-link',{attrs:{\"to\":{\n              name: 'user-tweets' // 導引至 UserSelf.vue\n            }}},[_c('span',{staticClass:\"user-name\"},[_vm._v(\" \"+_vm._s(like.Tweet.User.name)+\" \")]),_c('span',{staticClass:\"user-acount-for-post ml-2\"},[_c('span',[_vm._v(\"@\")]),_vm._v(\" \"+_vm._s(like.Tweet.User.account)+\" \"),_c('span',[_vm._v(\" • \")])])]):_c('router-link',{attrs:{\"to\":{\n              name: 'user-id-tweets', // 導引至 UserOther.vue\n              params: { userId: like.Tweet.User.id }\n            }}},[_c('span',{staticClass:\"user-name\"},[_vm._v(\" \"+_vm._s(like.Tweet.User.name)+\" \")]),_c('span',{staticClass:\"user-acount-for-post ml-2\"},[_c('span',[_vm._v(\"@\")]),_vm._v(\" \"+_vm._s(like.Tweet.User.account)+\" \"),_c('span',[_vm._v(\" • \")])])]),_c('p',{staticClass:\"post-time\"},[_vm._v(\" \"+_vm._s(_vm._f(\"fromNow\")(like.Tweet.createdAt))+\" \")])],1),_c('router-link',{attrs:{\"to\":{\n            name: 'replylist',\n            query: {\n              tweetId: like.Tweet.id\n            }\n          }}},[_c('p',{staticClass:\"tweet-content mt-2\"},[_vm._v(\" \"+_vm._s(like.Tweet.description)+\" \")])]),_c('div',{staticClass:\"tweet-icon-show-pannel d-flex mt-1\"},[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('button',{staticClass:\"d-flex\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.showModal(like.Tweet.id, like.Tweet.User.avatar, like.Tweet.User.name, like.Tweet.User.account, like.Tweet.createdAt, like.Tweet.description)}}},[_c('img',{staticClass:\"tweet-icon-show\",attrs:{\"src\":require(\"../assets/reply.png\"),\"alt\":\"\"}}),_c('span',{staticClass:\"reply-number ml-1\"},[_vm._v(\" \"+_vm._s(like.Tweet.replyCount)+\" \")])])]),_c('div',{staticClass:\"d-flex align-items-center ml-8\"},[(like.isLiked)?_c('button',[_c('img',{staticClass:\"tweet-icon-show like-icon\",attrs:{\"src\":require(\"../assets/likedx2.png\"),\"alt\":\"likedx2.png\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.unLike(like.TweetId)}}})]):_c('button',[_c('img',{staticClass:\"tweet-icon-show like-icon\",attrs:{\"src\":require(\"../assets/like.png\"),\"alt\":\"like.png\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addLike(like.TweetId)}}})]),_c('span',{staticClass:\"like-number ml-1\"},[_vm._v(\" \"+_vm._s(like.Tweet.likeCount)+\" \")])])])],1)],1)}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div\n      v-for=\"like in likes\"\n      id=\"user-like-list-container\"\n      :key=\"like.id\"\n    >\n      <router-link\n        v-if=\"currentUser.id === like.Tweet.User.id\"\n        :to=\"{\n          name: 'user-tweets' // 導引至 UserSelf.vue\n        }\"\n      >\n        <img\n          class=\"user-headshot\"\n          :src=\"like.Tweet.User.avatar | emptyImage\"\n          alt=\"個人頭像\"\n        >\n      </router-link>\n      <router-link\n        v-else\n        :to=\"{\n          name: 'user-id-tweets', // 導引至 UserOther.vue\n          params: { userId: like.Tweet.User.id }\n        }\"\n      >\n        <img\n          class=\"user-headshot\"\n          :src=\"like.Tweet.User.avatar | emptyImage\"\n          alt=\"個人頭像\"\n        >\n      </router-link>\n      <div class=\"tweet-wrapper ml-2\">\n        <div class=\"d-flex align-items-center\">\n          <router-link\n            v-if=\"currentUser.id === like.Tweet.User.id\"\n            :to=\"{\n              name: 'user-tweets' // 導引至 UserSelf.vue\n            }\"\n          >\n            <span class=\"user-name\">\n              {{ like.Tweet.User.name }}\n            </span>\n            <span class=\"user-acount-for-post ml-2\">\n              <span>@</span>\n              {{ like.Tweet.User.account }}\n              <span> • </span>\n            </span>\n          </router-link>\n          <router-link\n            v-else\n            :to=\"{\n              name: 'user-id-tweets', // 導引至 UserOther.vue\n              params: { userId: like.Tweet.User.id }\n            }\"\n          >\n            <span class=\"user-name\">\n              {{ like.Tweet.User.name }}\n            </span>\n            <span class=\"user-acount-for-post ml-2\">\n              <span>@</span>\n              {{ like.Tweet.User.account }}\n              <span> • </span>\n            </span>\n          </router-link>\n\n          <p class=\"post-time\">\n            {{ like.Tweet.createdAt | fromNow }}\n          </p>\n        </div>\n\n        <router-link\n          :to=\"{\n            name: 'replylist',\n            query: {\n              tweetId: like.Tweet.id\n            }\n          }\"\n        >\n          <p class=\"tweet-content mt-2\">\n            {{ like.Tweet.description }}\n          </p>\n        </router-link>\n\n        <div class=\"tweet-icon-show-pannel d-flex mt-1\">\n          <div class=\"d-flex align-items-center\">\n            <button\n              class=\"d-flex\"\n              @click.stop.prevent=\"showModal(like.Tweet.id, like.Tweet.User.avatar, like.Tweet.User.name, like.Tweet.User.account, like.Tweet.createdAt, like.Tweet.description)\"\n            >\n              <img\n                src=\"../assets/reply.png\"\n                alt=\"\"\n                class=\"tweet-icon-show\"\n              >\n              <span class=\"reply-number ml-1\">\n                {{ like.Tweet.replyCount }}\n              </span>\n            </button>\n          </div>\n          <div class=\"d-flex align-items-center ml-8\">\n            <button\n              v-if=\"like.isLiked\"\n            >\n              <img\n                src=\"../assets/likedx2.png\"\n                alt=\"likedx2.png\"\n                class=\"tweet-icon-show like-icon\"\n                @click.stop.prevent=\"unLike(like.TweetId)\"\n              >\n            </button>\n            <button\n              v-else\n            >\n              <img\n                src=\"../assets/like.png\"\n                alt=\"like.png\"\n                class=\"tweet-icon-show like-icon\"\n                @click.stop.prevent=\"addLike(like.TweetId)\"\n              >\n            </button>\n\n            <span class=\"like-number ml-1\">\n              {{ like.Tweet.likeCount }}\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { fromNowFilter, emptyImageFilter } from './../utils/mixins'\nimport usersAPI from './../apis/users'\nimport { Toast } from './../utils/helpers'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: \"UserLikeList\",\n  mixins: [fromNowFilter,emptyImageFilter],\n  props: {\n    initialLikes: {\n      type: Array,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      likes: this.initialLikes\n    }\n  },\n  computed: {\n    ...mapState(['currentUser'])\n  },\n  watch: {\n    initialLikes (newValue) {\n      this.likes = {\n        ...this.likes,\n        ...newValue\n      }\n      this.likes = newValue\n    }\n  },\n  methods: {\n    showModal (tweetId, toAvatar, toName, toAccount, toCreatedAt, toDescription) {\n      console.log('showModal')\n      this.$store.commit('setReply', {\n        tweetId,\n        toAvatar,\n        toName,\n        toAccount,\n        toCreatedAt,\n        toDescription,\n        myAvatar: this.currentUser.avatar\n      })\n    },\n    async addLike (tweetId) {\n      try {\n        this.isProcessing = true\n        const { data } = await usersAPI.addLike({ tweetId })\n\n        if (data.status === 'error') {\n          throw new Error(data.message)\n        }\n        this.$emit('updateLikes')\n\n        this.isProcessing = false\n      } catch (error) {\n        console.error(error.message)\n        this.isProcessing = false\n        Toast.fire({\n          icon: 'error',\n          title: '無法對 Tweet 按 Like，請稍後再試'\n        })\n      }\n    },\n    async unLike (tweetId) {\n      try {\n        this.isProcessing = true\n        const { data } = await usersAPI.unLike({ tweetId })\n\n        if (data.status === 'error') {\n          throw new Error(data.message)\n        }\n        this.$emit('updateLikes')\n\n        this.isProcessing = false\n      } catch (error) {\n        console.error(error.message)\n        this.isProcessing = false\n        Toast.fire({\n          icon: 'error',\n          title: '無法對 Tweet 取消 Like，請稍後再試'\n        })\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserLikeList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserLikeList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserLikeList.vue?vue&type=template&id=060b7914&\"\nimport script from \"./UserLikeList.vue?vue&type=script&lang=js&\"\nexport * from \"./UserLikeList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_l","likes","like","key","id","attrs","currentUser","Tweet","User","name","staticClass","_f","avatar","params","userId","_v","_s","account","createdAt","query","tweetId","description","on","$event","stopPropagation","preventDefault","showModal","require","replyCount","isLiked","unLike","TweetId","addLike","likeCount","staticRenderFns","mixins","props","initialLikes","type","required","data","computed","mapState","watch","newValue","methods","toAvatar","toName","toAccount","toCreatedAt","toDescription","console","myAvatar","usersAPI","Toast","icon","title","component"],"sourceRoot":""}